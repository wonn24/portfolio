# 이미지 검색
- 기간: 2021.05 ~ 현재 진행 중
- 참여: *** 앱에서 사용될 이미지 검색 핵심 부분 개발
- 스택: deep learning, object detection, feature vector, vector similarity, tensorflow, pytorch, python, django
- 설명: 
	- 이미지 1개가 입력으로 들어오면 전처리 후 object detection 모델에 투영하여 도형 부분 검출 >> 검출된 서브 이미지(들)로부터 특징 벡터(들) 추출 >> 추출된 벡터 각각을 전체 벡터들과 1:N 유사도 계산 후 가장 비슷한 top K를 서브 이미지 만큼 출력
	- object detection 성능은 MAP@IoU[.50:.95] 91%, MAR@IoU[.50:.95] 88% 정도 (개선 여지 남아 있음) 
	- feature vector extraction하는 모델의 성능은 test set (10000 images)에 대해 대략 94% 정확도 (개선 여지 남아 있음)
	- 데이터 준비, 정제, 정답 셋 만드는 부분, 모델 선정+학습+평가 및 실험하는 부분 혼자 진행
	- 현재 실제 서비스를 위한 준비 단계 진행 중
	- 처음 수행해보는 영역이라 어려움 있었지만 유뷰트, 온라인 강의, 포스트 및 논문 등 참조하여 모델 선택하고 실험 진행
	- 파이썬으로 모든 것 다 직접 구현하지는 않고 공개된 소스/예제 활용하여 현재 상황에 맞게 수정/첨가하여 진행
	- 막혔던 부분은 SIFT나 ORB 처럼 이미지로부터 특징점을 찾아 벡터화 시키는 방법이 도움이 될지 확인하는 실험 부분. 기술적인 어려움은 없었으나 데이터의 양이 늘어날수록 성능 기대 어렵다고 판단.

 　
 -
기업의 기밀 사항이라 자세히 언급하지 못 하는 점 양해바랍니다.
Object Detection 모델:
- Mobilenet SSD 사용
- 검출 영역 (box 좌표&너비) 정확하지 않아도 전체 성능에는 큰 문제 없음
- 현재 성능도 만족스러움

벡터 유사도 기반 이미지 검색:
- python 라이브러리 이용
- 기본 벡터 유사도 계산 방법은 너무 느림
- 매트릭스 유사도 방법은 그나마 효과적이나 부족함
- 검색 엔진 라이브러리 사용 (GPU 이용 가능)
- 검출된 영역이 라벨링 된 영역과 조금 다를지라도 top K neighbors 잘 찾아냄

현재 내부적으로는 성능 인정 받아 실제 서비스에 적용 중

앞으로, 정답 셋 조정이라던지 모델 파인 튜닝 그리고 자동화 부분 남아있음
